var app=app||{};app.todo=function(){var t=[],e={},i=function(){console.log("delete");var e=$(this).parent();t.forEach(function(i,n){i.view.item[0]===e[0]&&t[n].model.remove(n)})},n=function(){console.log("favToggle");var e=$(this).parent();t.forEach(function(i,n){i.view.item[0]===e[0]&&t[n].model.update(n)})},a=function(){console.log("adding new item");var t=$("#itemInput").val();t.length>0?(new s(t).add(),$("#itemInput").val(""),o()):alert("You haven't write anything!")},o=function(){console.info("rendering simpleTODO"),$("#itemsContainer").empty(),t.forEach(function(t,e){t.model.render(e)})},s=function(i){return this.item={title:i,fav:!1},this.add=function(){e.model=this,new d(this).add()},this.render=function(e){t[e].view.render()},this.update=function(e){this.item.fav=!this.item.fav,t[e].view.update()},this.remove=function(e){t[e].view.remove(),t.splice(e,1)},this},d=function(i){return this.item=null,this.add=function(){{var n=$("<div></div>").addClass("item").hide();$("<span>&#10084;</span>").addClass("itemFavorite").appendTo(n),$("<span></span>").addClass("itemTitle").html(i.item.title).appendTo(n),$("<span>&times;</span>").addClass("itemDelete").appendTo(n)}this.item=n,e.view=this,t.unshift(e),e={}},this.update=function(){this.item.children(".itemFavorite").toggleClass("fav")},this.render=function(){$("#itemsContainer").append(this.item),this.item.fadeIn()},this.remove=function(){this.item.fadeOut()},this},m=function(){console.info("appT init"),o()};return{init:m,items:t,addNewItem:a,favItem:n,deleteItem:i}}(),$(window).on("load",app.todo.init);