describe("app",function(){describe("initialize",function(){it("should bind deviceready",function(){runs(function(){spyOn(app,"onDeviceReady"),app.initialize(),helper.trigger(window.document,"deviceready")}),waitsFor(function(){return app.onDeviceReady.calls.length>0},"onDeviceReady should be called once",500),runs(function(){expect(app.onDeviceReady).toHaveBeenCalled()})})}),describe("onDeviceReady",function(){it("should report that it fired",function(){spyOn(app,"receivedEvent"),app.onDeviceReady(),expect(app.receivedEvent).toHaveBeenCalledWith("deviceready")})}),describe("receivedEvent",function(){beforeEach(function(){var e=document.getElementById("stage");e.innerHTML=['<div id="deviceready">','    <p class="event listening">Listening</p>','    <p class="event received">Received</p>',"</div>"].join("\n")}),it("should hide the listening element",function(){app.receivedEvent("deviceready");var e=helper.getComputedStyle("#deviceready .listening","display");expect(e).toEqual("none")}),it("should show the received element",function(){app.receivedEvent("deviceready");var e=helper.getComputedStyle("#deviceready .received","display");expect(e).toEqual("block")})})});