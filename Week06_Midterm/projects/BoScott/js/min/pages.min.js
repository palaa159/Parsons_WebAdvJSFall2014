var app=app||{};app.pages=function(){var t,e={topArtists:function(){console.log("rendering in-progress page"),app.pages.pageToRender=_.template($("#tpl-inProgress").html(),{transition:"slideIn"}),a(),$("#submit").click(function(t){t.preventDefault(),console.log("working");var a=$(".genre").val();return null==a||""==a?(alert("You need to put a genre!"),{render:e}):(r.tag.getWeeklyArtistChart({tag:a,limit:6},{success:function(t){$("#top_artists").html($("#lastfmTemplateArtists").render(t.weeklyartistchart.artist)),o=t.weeklyartistchart.artist[0].name,r.artist.getInfo({artist:o},{success:function(t){$("#top_artist").html($("#lastfmTemplateArtistInfo").render(t.artist)),$("#liked").on("click",function(){console.log("liked"),$(".favContainer").append($("#artist").html()),localStorage.setItem("storeName",JSON.stringify($("#name").html()));var t=JSON.parse(localStorage.getItem("storeName"));$(".favContainer").append(t)})}}),topArtistName2=t.weeklyartistchart.artist[1].name,r.artist.getInfo({artist:topArtistName2},{success:function(t){$("#top_artist2").html($("#lastfmTemplateArtistInfo2").render(t.artist)),$("#liked1").on("click",function(){console.log("liked1"),$(".favContainer1").append($("#artist1").html())})}}),topArtistName3=t.weeklyartistchart.artist[2].name,r.artist.getInfo({artist:topArtistName3},{success:function(t){$("#top_artist3").html($("#lastfmTemplateArtistInfo3").render(t.artist)),$("#liked2").on("click",function(){console.log("liked2"),$(".favContainer2").append($("#artist2").html())})}}),topArtistName4=t.weeklyartistchart.artist[3].name,r.artist.getInfo({artist:topArtistName4},{success:function(t){$("#top_artist4").html($("#lastfmTemplateArtistInfo4").render(t.artist)),$("#liked3").on("click",function(){console.log("liked3"),$(".favContainer3").append($("#artist3").html())})}}),topArtistName5=t.weeklyartistchart.artist[4].name,r.artist.getInfo({artist:topArtistName5},{success:function(t){$("#top_artist5").html($("#lastfmTemplateArtistInfo5").render(t.artist)),$("#liked4").on("click",function(){console.log("liked4"),$(".favContainer4").append($("#artist4").html())})}}),topArtistName6=t.weeklyartistchart.artist[5].name,r.artist.getInfo({artist:topArtistName6},{success:function(t){$("#top_artist6").html($("#lastfmTemplateArtistInfo6").render(t.artist)),$("#liked5").on("click",function(){console.log("liked5"),$(".favContainer5").append($("#artist5").html())})}}),r.artist.getTopTracks({artist:o,limit:10},{success:function(t){$("#top_tracks").html($("#lastfmTemplateTracks").render(t.toptracks.track)),console.log("getting music")}})}}),void 0)}),$("#tpl-inProgress").show(),$("#tpl-done").show(),$("#tpl-about").hide()},fav:function(){console.log("rendering done page"),app.pages.pageToRender=_.template($("#tpl-done").html(),{transition:"slideIn"}),a(),$("#tpl-inProgress").hide(),$("#tpl-done").show(),$("#tpl-about").hide()},about:function(){console.log("rendering about page"),app.pages.pageToRender=_.template($("#tpl-about").html(),{transition:"slideIn"}),a(),$("#tpl-inProgress").hide(),$("#tpl-done").hide(),$("#tpl-about").show()}},a=function(){$("#view").append(app.pages.pageToRender),setTimeout(function(){$(".page").removeClass("slideIn"),$(".end").addClass("slideOut")},100)},s="b1a302ad3fb85a3ebca1fcc678addadf",n="72bad5b3ae1737120a35f5f240d3a777",i=new LastFMCache,r=new LastFM({apiKey:s,apiSecret:n,cache:i}),o="";return{render:e,pageToRender:t}}();