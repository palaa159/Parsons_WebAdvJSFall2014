console.log("main.js loaded");var myCanvas=document.getElementById("myCanvas"),ctx=myCanvas.getContext("2d"),gridSize=10,orgSize=gridSize-5,innerLayerNum=1,layerNum=5,layerSizeInterval=1,maxResetNum=400,particleNum=-1,particleArray=[],colorBackground="rgba(0,0,0,1)",random=function(e,t){return Math.floor(Math.random()*(t-e)+e)},Particle=function(e,t,i,r){return this.x=e,this.y=t,this.size=i,this.color=r,this.sizeOrg=i,this.colorOrg=r,this.changed=!1,this.render=function(){return ctx.fillStyle=this.color,ctx.fillRect(this.x,this.y,this.size,this.size),this},this.update=function(){return this.x=e,this.y=t,this.size=i,this.color=r,this},this.changeColor=function(e){this.color=e,this.render()},this.reset=function(){this.size=this.sizeOrg,this.color=this.colorOrg,this.render()},this.detectArea=function(e,t){var i=Math.floor(Math.abs(e-this.x)/gridSize),r=Math.floor(Math.abs(t-this.y)/gridSize);if(layerNum>=i&&layerNum>=r){this.color=colorBackground,this.render();var a=Math.max(i,r);this.size=innerLayerNum>=a?0:(a-innerLayerNum)*layerSizeInterval,this.render(),this.changed=!0}else this.changed&&(this.reset(),this.changed=!1)},this},createParticle=function(){for(var e=0,t=0;t<window.innerWidth;t+=gridSize)for(var i=0;i<window.innerHeight;i+=gridSize){var r=random(0,256),a=random(0,256),n=random(0,256),s="rgba("+r+","+a+","+n+",1)";particleArray[e]=new Particle(t,i,orgSize,s).update().render(),e++}particleNum=e},resetParticle=function(){var e=particleNum;for(e>maxResetNum&&(e=maxResetNum),j=0;e>j;j++){var t=random(0,particleNum),i=random(0,256),r=random(0,256),a=random(0,256),n="rgba("+i+","+r+","+a+",1)";particleArray[t].changeColor(n)}};myCanvas.addEventListener("mousemove",function(e){for(var t=0;particleNum>t;t++)particleArray[t].detectArea(e.pageX,e.pageY)});var fps=30;myCanvas.width=window.innerWidth,myCanvas.height=window.innerHeight,ctx.fillStyle="rgb(0,0,0)",ctx.fillRect(0,0,myCanvas.width,myCanvas.height),createParticle();var draw=function(){setTimeout(function(){requestAnimationFrame(draw),resetParticle()},2e3/fps)},init=function(){myCanvas.width=window.innerWidth,myCanvas.height=window.innerHeight,ctx.fillStyle="rgb(0,0,0)",ctx.fillRect(0,0,myCanvas.width,myCanvas.height),draw()}();