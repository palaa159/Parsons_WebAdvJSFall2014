var myCanvas=document.getElementById("myCanvas"),ctx=myCanvas.getContext("2d"),w=window.innerWidth,h=window.innerHeight;myCanvas.width=w,myCanvas.height=h;var Particle=function(r,t,e,a){return this.x=r,this.y=t,this.size=e,this.color=a,this.velX=randomFloat(-3,3),this.velY=randomFloat(-3,3),this.decay=randomFloat(.9888,.98),this.remove=function(){var r=particleArray.indexOf(this);particleArray.splice(r,1)},this.update=function(){this.size*=this.decay,this.x+=this.velX,this.y+=this.velY,this.velX*=.9888,this.velY*=.9888},this.render=function(){return ctx.fillStyle=this.color,ctx.fillRect(this.x,this.y,this.size,this.size),this},this},particleArray=[],random=function(r,t){return Math.floor(Math.random()*t)+r},randomFloat=function(r,t){return Math.random()*(t-r)+r},setup=function(){for(var r=0;100>r;r++){var t=w/2,e=h/2,a=random(0,256),i=random(0,256),n=random(0,256);particleArray.push(new Particle(t,e,20,"rgba("+a+","+i+","+n+",1)").render())}},draw=function(){ctx.clearRect(0,0,w,h);for(var r=0;r<particleArray.length;r++)particleArray[r].update(),particleArray[r].render(),particleArray[r].size<1&&particleArray[r].remove(),console.log(particleArray.length)};setup();var fps=60;setInterval(draw,1e3/fps),myCanvas.addEventListener("click",function(){for(var r=0;particleArray.length;r++)particleArray[r].velY=10});var mouse={};myCanvas.addEventListener("mousemove",function(r){if(mouse.x=r.pageX,mouse.y=r.pageY,particleArray.length<200){var t=mouse.x,e=mouse.y,a=random(0,256),i=random(0,256),n=random(0,256);particleArray.push(new Particle(t,e,20,"rgba("+a+","+i+","+n+",1)").render())}});