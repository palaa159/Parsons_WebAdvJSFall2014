var app=app||{};app.main=function(){var t={},n={fav:[]},a=function(){app.api.storage.load(),app.router.route(),i(),o()},i=function(){$(window).on("hashchange",function(){app.router.route(),o()})},o=function(){console.log("attaching events"),$("footer > div").off("click").on("click",function(){var t=$(this).attr("id");window.location.hash="#/"+t.substring(4,t.length)}),$(".item-gif > img").off("click").on("click",function(){$("footer").toggleClass("slideDown"),"false"===$(this).attr("data-fullscreen")?($(this).attr("data-fullscreen","true"),$(this).parent().addClass("blow-parent").css({transform:"translate(0px,"+$(".page").scrollTop()+"px)","-webkit-transform":"translate(0px,"+$(".page").scrollTop()+"px)"})):($(this).attr("data-fullscreen","false"),$(this).parent().removeClass("blow-parent").css({transform:"none","-webkit-transform":"none"}))}),$(".item-fav").off("click").on("click",function(){var t=$(this).siblings()[0];$(this).toggleClass("selected");var n=$(t).attr("data-id");app.main.user.fav.unshift(n),app.api.storage.update()}),$(".page").off("webkitTransitionEnd").on("webkitTransitionEnd",function(){$(this).addClass("end")}),$(".end").off("webkitTransitionEnd").on("webkitTransitionEnd",function(){$(this).remove()})};return{attachEvents:o,user:n,init:a,giphy:t}}(),$(window).on("load",app.main.init);