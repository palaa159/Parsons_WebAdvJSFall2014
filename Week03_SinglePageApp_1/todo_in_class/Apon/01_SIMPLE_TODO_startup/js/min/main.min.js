var app=app||{};app.main=function(){var e=[],i=function(){console.log("app init"),t()},t=function(){$("#itemAddBtn").off("click").on("click",o),$(".itemDelete").off("click").on("click",n)},n=function(){var i=$(this).parent();e.forEach(function(t,n){t.view.itemToRender[0]==i[0]&&(console.log("I found you!",n),e[n].model.remove(n))})},o=function(){var e=$("#itemInput").val();console.log("adding new item: "+e),new a(e).create()},a=function(i,t){this.title=i,this.like=t||!1,this.create=function(){e.unshift({model:this}),new s(this).create(),this.render()},this.render=function(){e[0].view.render()},this.update=function(){},this.remove=function(i){e[i].view.remove()}},s=function(i){return this.model=i,this.create=function(){console.log("creating view");var i=$("<div></div>").addClass("item"),t=$("<span>&#9825;</span>").addClass("itemFavorite"),n=$("<span></span>").addClass("itemTitle").html(this.model.title),o=$("<span>&#10006;</span>").addClass("itemDelete");t.appendTo(i),n.appendTo(i),o.appendTo(i),this.itemToRender=i,e[0].view=this},this.render=function(){$("#itemsContainer").prepend(this.itemToRender),t()},this.update=function(){},this.remove=function(i){$(this.itemToRender).remove(),e.splice(i,1)},this};return{init:i,items:e}}(),$(document).on("ready",app.main.init);